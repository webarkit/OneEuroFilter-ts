!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var i=e();for(var r in i)("object"==typeof exports?exports:t)[r]=i[r]}}(self,(()=>(()=>{"use strict";var t={d:(e,i)=>{for(var r in i)t.o(i,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:i[r]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},e={};t.r(e),t.d(e,{OneEuroFilter:()=>i});class i{minCutOff;beta;dCutOff;xPrev;dxPrev;tPrev;initialized;constructor(t,e){this.minCutOff=t,this.beta=e,this.dCutOff=.001,this.xPrev=null,this.dxPrev=null,this.tPrev=null,this.initialized=!1}smoothingFactor(t,e){const i=2*Math.PI*e*t;return i/(i+1)}exponentialSmoothing(t,e,i){return t*e+(1-t)*i}reset(){this.initialized=!1}filter(t,e){if(!this.initialized)return this.initialized=!0,this.xPrev=e,this.dxPrev=e.map((()=>0)),this.tPrev=t,e;const{xPrev:i,tPrev:r,dxPrev:o}=this,n=t-r,s=this.smoothingFactor(n,this.dCutOff),f=[],h=[],l=[];for(let t=0;t<e.length;t++){f[t]=(e[t]-i[t])/n,h[t]=this.exponentialSmoothing(s,f[t],o[t]);const r=this.minCutOff+this.beta*Math.abs(h[t]),a=this.smoothingFactor(n,r);l[t]=this.exponentialSmoothing(a,e[t],i[t])}return this.xPrev=l,this.dxPrev=h,this.tPrev=t,l}}return e})()));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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dWxlRGVmaW5pdGlvbiIsIndlYnBhY2s6Ly9vbmVldXJvZmlsdGVyLXRzL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL29uZWV1cm9maWx0ZXItdHMvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL29uZWV1cm9maWx0ZXItdHMvd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly9vbmVldXJvZmlsdGVyLXRzL3dlYnBhY2svcnVudGltZS9tYWtlIG5hbWVzcGFjZSBvYmplY3QiLCJ3ZWJwYWNrOi8vb25lZXVyb2ZpbHRlci10cy8uL3NyYy9PbmVFdXJvRmlsdGVyLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiB3ZWJwYWNrVW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbihyb290LCBmYWN0b3J5KSB7XG5cdGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0Jylcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcblx0ZWxzZSBpZih0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpXG5cdFx0ZGVmaW5lKFtdLCBmYWN0b3J5KTtcblx0ZWxzZSB7XG5cdFx0dmFyIGEgPSBmYWN0b3J5KCk7XG5cdFx0Zm9yKHZhciBpIGluIGEpICh0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgPyBleHBvcnRzIDogcm9vdClbaV0gPSBhW2ldO1xuXHR9XG59KShzZWxmLCAoKSA9PiB7XG5yZXR1cm4gIiwiLy8gVGhlIHJlcXVpcmUgc2NvcGVcbnZhciBfX3dlYnBhY2tfcmVxdWlyZV9fID0ge307XG5cbiIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCIvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSAoZXhwb3J0cykgPT4ge1xuXHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcblx0fVxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xufTsiLCIvLyBSZWY6IGh0dHBzOi8vamFhbnRvbGxhbmRlci5jb20vcG9zdC9ub2lzZS1maWx0ZXJpbmctdXNpbmctb25lLWV1cm8tZmlsdGVyLyNtangtZXFuJTNBMVxyXG5leHBvcnQgY2xhc3MgT25lRXVyb0ZpbHRlciB7XHJcbiAgICBwcml2YXRlIG1pbkN1dE9mZjogbnVtYmVyO1xyXG4gICAgcHJpdmF0ZSBiZXRhOiBudW1iZXI7XHJcbiAgICBwcml2YXRlIGRDdXRPZmY6IG51bWJlcjtcclxuICAgIHByaXZhdGUgeFByZXY6IG51bWJlcltdIHwgbnVsbDtcclxuICAgIHByaXZhdGUgZHhQcmV2OiBudW1iZXJbXSB8IG51bGw7XHJcbiAgICBwcml2YXRlIHRQcmV2OiBudW1iZXIgfCBudWxsO1xyXG4gICAgcHJpdmF0ZSBpbml0aWFsaXplZDogYm9vbGVhbjtcclxuICAgIGNvbnN0cnVjdG9yKG1pbkN1dE9mZjogbnVtYmVyLCBiZXRhOiBudW1iZXIpIHtcclxuICAgICAgICB0aGlzLm1pbkN1dE9mZiA9IG1pbkN1dE9mZjtcclxuICAgICAgICB0aGlzLmJldGEgPSBiZXRhO1xyXG4gICAgICAgIHRoaXMuZEN1dE9mZiA9IDAuMDAxOyAvLyBwZXJpb2QgaW4gbWlsbGlzZWNvbmRzLCBzbyBkZWZhdWx0IHRvIDAuMDAxID0gMUh6XHJcblxyXG4gICAgICAgIHRoaXMueFByZXYgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuZHhQcmV2ID0gbnVsbDtcclxuICAgICAgICB0aGlzLnRQcmV2ID0gbnVsbDtcclxuICAgICAgICB0aGlzLmluaXRpYWxpemVkID0gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgc21vb3RoaW5nRmFjdG9yKHRlOiBudW1iZXIsIGN1dG9mZjogbnVtYmVyKTogbnVtYmVyIHtcclxuICAgICAgICBjb25zdCByID0gMiAqIE1hdGguUEkgKiBjdXRvZmYgKiB0ZTtcclxuICAgICAgICByZXR1cm4gciAvIChyICsgMSk7XHJcbiAgICB9O1xyXG5cclxuICAgIGV4cG9uZW50aWFsU21vb3RoaW5nKGE6IG51bWJlciwgeDogbnVtYmVyLCB4UHJldjogbnVtYmVyKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gYSAqIHggKyAoMSAtIGEpICogeFByZXY7XHJcbiAgICB9O1xyXG5cclxuICAgIHJlc2V0KCkge1xyXG4gICAgICAgIHRoaXMuaW5pdGlhbGl6ZWQgPSBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBmaWx0ZXIodDogbnVtYmVyLCB4OiBudW1iZXJbXSkge1xyXG4gICAgICAgIGlmICghdGhpcy5pbml0aWFsaXplZCkge1xyXG4gICAgICAgICAgICB0aGlzLmluaXRpYWxpemVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy54UHJldiA9IHg7XHJcbiAgICAgICAgICAgIHRoaXMuZHhQcmV2ID0geC5tYXAoKCkgPT4gMCk7XHJcbiAgICAgICAgICAgIHRoaXMudFByZXYgPSB0O1xyXG4gICAgICAgICAgICByZXR1cm4geDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IHsgeFByZXYsIHRQcmV2LCBkeFByZXYgfSA9IHRoaXM7XHJcblxyXG4gICAgICAgIC8vY29uc29sZS5sb2coXCJmaWx0ZXJcIiwgeCwgeFByZXYsIHgubWFwKCh4eCwgaSkgPT4geFtpXSAtIHhQcmV2W2ldKSk7XHJcblxyXG4gICAgICAgIGNvbnN0IHRlID0gdCAtIHRQcmV2ITtcclxuXHJcbiAgICAgICAgY29uc3QgYWQgPSB0aGlzLnNtb290aGluZ0ZhY3Rvcih0ZSwgdGhpcy5kQ3V0T2ZmKTtcclxuXHJcbiAgICAgICAgY29uc3QgZHg6IG51bWJlcltdID0gW107XHJcbiAgICAgICAgY29uc3QgZHhIYXQ6IG51bWJlcltdID0gW107XHJcbiAgICAgICAgY29uc3QgeEhhdDogbnVtYmVyW10gPSBbXTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHgubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgLy8gVGhlIGZpbHRlcmVkIGRlcml2YXRpdmUgb2YgdGhlIHNpZ25hbC5cclxuICAgICAgICAgICAgZHhbaV0gPSAoeFtpXSAtIHhQcmV2IVtpXSkgLyB0ZTtcclxuICAgICAgICAgICAgZHhIYXRbaV0gPSB0aGlzLmV4cG9uZW50aWFsU21vb3RoaW5nKGFkLCBkeFtpXSwgZHhQcmV2IVtpXSk7XHJcblxyXG4gICAgICAgICAgICAvLyBUaGUgZmlsdGVyZWQgc2lnbmFsXHJcbiAgICAgICAgICAgIGNvbnN0IGN1dE9mZiA9IHRoaXMubWluQ3V0T2ZmICsgdGhpcy5iZXRhICogTWF0aC5hYnMoZHhIYXRbaV0pO1xyXG4gICAgICAgICAgICBjb25zdCBhID0gdGhpcy5zbW9vdGhpbmdGYWN0b3IodGUsIGN1dE9mZik7XHJcbiAgICAgICAgICAgIHhIYXRbaV0gPSB0aGlzLmV4cG9uZW50aWFsU21vb3RoaW5nKGEsIHhbaV0sIHhQcmV2IVtpXSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyB1cGRhdGUgcHJldlxyXG4gICAgICAgIHRoaXMueFByZXYgPSB4SGF0O1xyXG4gICAgICAgIHRoaXMuZHhQcmV2ID0gZHhIYXQ7XHJcbiAgICAgICAgdGhpcy50UHJldiA9IHQ7XHJcblxyXG4gICAgICAgIHJldHVybiB4SGF0O1xyXG4gICAgfVxyXG59XHJcbiJdLCJuYW1lcyI6WyJyb290IiwiZmFjdG9yeSIsImV4cG9ydHMiLCJtb2R1bGUiLCJkZWZpbmUiLCJhbWQiLCJhIiwiaSIsInNlbGYiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwiZGVmaW5pdGlvbiIsImtleSIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJvYmoiLCJwcm9wIiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsIk9uZUV1cm9GaWx0ZXIiLCJtaW5DdXRPZmYiLCJiZXRhIiwiZEN1dE9mZiIsInhQcmV2IiwiZHhQcmV2IiwidFByZXYiLCJpbml0aWFsaXplZCIsImNvbnN0cnVjdG9yIiwidGhpcyIsInNtb290aGluZ0ZhY3RvciIsInRlIiwiY3V0b2ZmIiwiciIsIk1hdGgiLCJQSSIsImV4cG9uZW50aWFsU21vb3RoaW5nIiwieCIsInJlc2V0IiwiZmlsdGVyIiwidCIsIm1hcCIsImFkIiwiZHgiLCJkeEhhdCIsInhIYXQiLCJsZW5ndGgiLCJjdXRPZmYiLCJhYnMiXSwic291cmNlUm9vdCI6IiJ9